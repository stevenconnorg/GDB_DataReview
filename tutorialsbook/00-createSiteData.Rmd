# Create Site Data {#siteData}
## Overview
The Create Site Data tool allows users to use the Cadastre dataset's Installation_A, Site_A, and Site_P feature classes to populate and update site data as needed.  

This tool compares the geometry of Installation_A data (required to be populated) to Site_A data and populates features where needed.  Upon the update of Site_A, points are created in Site_P for each feature in Site_A if they do not exist. 

The user has the option to bypass the geometry compare between Installation_A and Site_A. When bypassed, no features are added to Site_A and site points are created using data that already exists in Site_A. 

## Parameters
The tool has 3 parameters:  

1. **Input_Feature_Dataset (data type: Workspace)** - This parameter must be the path of the input geodatabase to search Feature Datasets' Feature Class features for duplicate features.  
2. **Bypass Installation_A and Site_A Geometry Compare (data type: Boolean)** - This parameter is a check box that is unchecked by default. If the user checks the box, the geometry compare between Installation_A and Site_A will be bypassed.
3. **Installation_A & Site_A Geometry Compare Type (data type: String Value List)** - This parameter is "HAVE THEIR CENTER IN" by default and provides the best results for straight forward situations.  Other options are provided for other situations.


## How to Use
### Begin by opening the toolbox  
Navigate to the location of the script toolbox, then right-click the 'Create Site Data' script tool to open (Fig. \@ref(fig:csdopen)).

```{r csdopen, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Opening the Create Site Data tool",fig.align='center'}
knitr::include_graphics("figures/csd-open.jpg",auto_pdf = TRUE)
```
###  Fill out the parameters 
Next, fill out the parameters for the tool. Here, we want to select the Cadastre feature dataset for the geodatabase being processed. (Fig. \@ref(fig:csdparams)). Last, we specify where we want to output the resulting tables, prefereably in an Installation Review geodatabase specifically for holding CIP processing results.  


```{r csdparams, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Create Site Data Tool parameters",fig.align='center'}
knitr::include_graphics("figures/csd-params.jpg",auto_pdf = TRUE)
```

###  Run the Tool and View Results
While the tool runs (with Background Processing disabled), we can see messages and warnings from the tool.  Warnings are provided if required feature classes are missing or data verification from the user is suggested.  Messages include the number of features added to Site_A and the number of points added to Site_P (Fig. \@ref(fig:delFmessages)). Here, we see that an Installation_A feature exists beyond the boundaries of the Site_A features so 1 feature is appended to Site_A. Then, 8 site points were created for the empty Site_P feature class.

```{r csdmessages, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Create Site Data tool messages",fig.align='center'}
knitr::include_graphics("figures/csd-messages.jpg",auto_pdf = TRUE)
```
After running the tool, we can see the Site_P and Site_A features are created properly, where previously missed (Fig. \@ref(fig:csdbefore) & Fig. \@ref(fig:csdafter)).
```{r csdbefore, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Before running the tool",fig.align='center'}
knitr::include_graphics("figures/csd-before.jpg",auto_pdf = TRUE)
```

```{r csdafter, cache=FALSE,echo=FALSE,message=FALSE,error=FALSE,warning=FALSE,fig.cap="Newly created Site A and Site P features after running the tool",fig.align='center'}
knitr::include_graphics("figures/csd-after.jpg",auto_pdf = TRUE)
```